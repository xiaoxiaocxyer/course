"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var utils=require('./utils'),utilsLite=require("utils-lite");require("echarts/lib/chart/gauge");var Core=_interopDefault(require('./core')),_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};function getTooltip(e){var t=e.tooltipFormatter,r=e.dataType,a=e.digit;return{formatter:function(e){var i=e.seriesName,o=e.data,n=o.value,u=o.name;if(t)return t.apply(null,arguments);var s=[];return s.push(i+": "),s.push(utils.getFormated(n,r[i],a)+" "+u),s.join("")}}}function getSeries(e){var t=e.rows,r=e.dimension,a=e.metrics,i=e.digit,o=e.dataType,n=e.labelMap,u=e.seriesMap,s=e.dataName;return t.map(function(e){var t=e[r],l=u[t],d={type:"gauge",name:null!=n[t]?n[t]:t,data:[{name:s[t]||"",value:e[a]}],detail:{formatter:function(e){return utils.getFormated(e,o[t],i)}},axisLabel:{formatter:function(e){return utils.getFormated(e,o[t],i)}}};return l&&Object.keys(l).forEach(function(e){utilsLite.isObject(d[e])?_extends(d[e],l[e]):d[e]=l[e]}),d})}var gauge$1=function(e,t,r,a){var i=r.dimension,o=void 0===i?e[0]:i,n=r.metrics,u=void 0===n?e[1]:n,s=r.digit,l=void 0===s?2:s,d=r.dataType,p=void 0===d?{}:d,c=r.labelMap,m=void 0===c?{}:c,f=r.seriesMap,g=void 0===f?{}:f,v=r.dataName,b=void 0===v?{}:v,y=a.tooltipFormatter;return{tooltip:a.tooltipVisible&&getTooltip({tooltipFormatter:y,dataType:p}),series:getSeries({rows:t,dimension:o,metrics:u,digit:l,dataType:p,labelMap:m,seriesMap:g,dataName:b})}},index=_extends({},Core,{name:"VeGauge",data:function(){return this.chartHandler=gauge$1,{}}});module.exports=index;
