"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var utilsLite=require("utils-lite"),utils=require('./utils');require("echarts-liquidfill");var Core=_interopDefault(require('./core')),_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e};function getTooltip(e){var t=e.tooltipFormatter,i=e.dataType,r=e.digit;return{show:!0,formatter:function(e){var a=e.seriesName,o=e.value;return t?t.apply(null,arguments):[a+": ",utils.getFormated(o,i,r)].join("")}}}function getSeries(e){var t=e.dimension,i=e.metrics,r=e.seriesMap,a=e.rows,o=e.wave,n=o,l=utilsLite.isArray(r)?r.length:0;return a.slice().map(function(e,a){var s=[],u={type:"liquidFill"},d=e[t],p=Number(e[i]),c={};return utilsLite.isArray(r)?c=r[a]?r[a]:r[l-1]:utilsLite.isObject(r[d])&&(c=r[d]),utilsLite.isArray(o)&&utilsLite.isArray(o[0])&&(n=utilsLite.isArray(o[a])?o[a]:o[o.length-1]),s.push({value:p}),n&&n.length&&(s=s.concat(n.map(function(e){return{value:e}}))),u=_extends(u,{data:s,name:d},c)})}var liquidfill=function(e,t,i,r){var a=i.dimension,o=void 0===a?e[0]:a,n=i.metrics,l=void 0===n?e[1]:n,s=i.seriesMap,u=void 0===s?{}:s,d=i.dataType,p=void 0===d?"percent":d,c=i.digit,v=void 0===c?2:c,f=i.wave,m=void 0===f?[]:f,g=r.tooltipVisible,y=r.tooltipFormatter;return{tooltip:g&&getTooltip({tooltipFormatter:y,dataType:p,digit:v}),series:getSeries({rows:t,columns:e,dimension:o,metrics:l,seriesMap:u,wave:m})}},index=_extends({},Core,{name:"VeLiquidfill",data:function(){return this.chartHandler=liquidfill,{}}});module.exports=index;
